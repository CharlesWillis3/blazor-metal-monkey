@using MetalMonkey.Engine.Routing

<MetalRouter>
    <Routes>
            <ul>
                <li><a href="page">Page</a></li>
                <li><a href="catalog">Catalog</a></li>
                <li><a href="catalog/month/april">April</a></li>
                <li><a href="catalog/blah">Blah</a></li>
                <li><a href="catalog/month/april/35">April 35</a></li>
            </ul>
            <SegmentRoute Segments="page" RouteContext="@context" Context="page_context" Layout="@typeof(MainLayout)">
                @foreach (var seg in page_context.ParentSegments)
                {
                    <div><h1>@seg</h1></div>
                }

                @foreach (var seg in page_context.CurrentSegments)
                {
                    <div><h2>@seg</h2></div>
                }
            </SegmentRoute>
            <SegmentRoute Segments="catalog" RouteContext="@context" Context="catalog_context" Layout="@typeof(MainLayout)">
                @foreach (var seg in catalog_context.ParentSegments)
                {
                    <div><h1>@seg</h1></div>
                }

                @foreach (var seg in catalog_context.CurrentSegments)
                {
                    <div><h2>@seg</h2></div>
                }
                <SegmentRoute Segments="month/april" RouteContext="@catalog_context" Context="month_april_context" Layout="@typeof(MainLayout)">
                    @foreach (var seg in month_april_context.ParentSegments)
                    {
                        <div><h3>@seg</h3></div>
                    }
                    @foreach (var seg in month_april_context.CurrentSegments)
                    {
                        <div><h4>@seg</h4></div>
                    }
                </SegmentRoute>
            </SegmentRoute>
    </Routes>
    <Unhandled>
        <LayoutView Layout="@typeof(MainLayout)">
            <ul>
                <li><a href="page">Page</a></li>
                <li><a href="catalog">Catalog</a></li>
                <li><a href="catalog/month/april">April</a></li>
                <li><a href="catalog/blah">Blah</a></li>
            </ul>
            <p>Sorry, there's nothing at this address.</p>
        </LayoutView>
    </Unhandled>
</MetalRouter>
